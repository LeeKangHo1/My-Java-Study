## 1. h2 database에 미리 table 만들기
- src/main/resources
	- schema.sql에 작성한 쿼리문은 서버(프로젝트, SpringBoot App) 실행 시 미리 실행된다.
- DemoApplication.java
	- ![](image/demoapplication%20implements%20CommandLineRunner.jpg)
	- implements CommandLineRunner
	- run 메서드 오버라이드하면 프로젝트 실행 시 코드가 미리 실행된다.

---
## 2. Controller Advice에서 Exception Handling
- ![](image/exception%20핸들링%20service%20쪽.jpg)
	- updateCount -> db의 조회수를 1 올린다.
		- qnz 객체는 조회수 1 증가가 적용되지 않았으므로 setViews가 필요
	- service의 findById는 2가지 예외(QNA_NotFoundException, QNA_IsSecure)를 발생 시킬 수 있다.
		- ![](image/notfound%20exception.jpg)
- ![](image/spring%20boot%20controller%20advice.jpg)
	- QNA_NotFoundException을 따로 정의해서 쓰면 응답 코드가 200으로 나온다.
		- ModelAndView 객체를 사용해서 응답코드 변경도 가능하고 만들어 둔 페이지로 이동도 가능하다.
		- ![](image/예외%20발생%20시%20보여주는%20페이지.jpg)
			- notFound.jsp
 
---
